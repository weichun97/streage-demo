# 使用策略模式解决项目中存在的大量ifelse
## 为什么会产生策略模式
在我们的项目中，经常会碰到根据一个类型去做不同处理的情况，一般的处理是直接使用`ifelse`或者`switch`根据类型做不同的处理。这种做对于简单的业务场景来说是没有问题的，但是碰到复杂的业务，会导致方法变的非常的臃肿，并且代码的可读性会变差。

```java
public void pay(int type){
    if(1 == type){
        // 微信支付
    }
    else if(2 == type){
        // 支付宝支付
    }
    else if(3 == type){
        // 招商银行支付
    }
    else if(4 == type){
        // 建设银行支付
    }
    else{
        System.out.println("错误的支付类型");
    }
}
```
## 什么是策略模式
策略模式属于对象的行为模式。其用意是针对一组算法，将每一个算法封装到具有共同接口的独立的类中，从而使得它们可以相互替换。策略模式使得算法可以在不影响到客户端的情况下发生变化。

## 版本变化

|版本 |描述  | 
| ------ | ------ |
| v1 | 面向过程| 
| v2 | 使用策略模式隔离不同类型的代码| 
| v3 | 使用工厂模式解决 ifelse 并使用单例模式解决每次调用都会创建一个策略类对象的问题 |  
| v4 | 使用空对象模式去掉判空处理， 使用模板方法模式省略掉固定的操作方法 | 
| v5 | 使用 spring 的 InitializingBean 自动注入策略类到工厂中 |
